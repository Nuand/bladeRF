--- a/ad9361/sw/util.c	2018-10-10 13:49:03.308273015 -0400
+++ b/ad9361/sw/util.c	2018-10-10 13:51:59.641443929 -0400
@@ -329,7 +329,8 @@
 *******************************************************************************/
 void * ERR_PTR(long error)
 {
-	return (void *) error;
+	uintptr_t val = error;
+	return (void *) val;
 }
 
 /***************************************************************************//**
